<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<div th:fragment="headerFragment" >

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script th:src="@{/js/common.js}"></script>
    <link rel="stylesheet" th:href="@{/css/common.css}">

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#503396',
              secondary: '#252451',
            }
          }
        }
      }
    </script>

    <nav class="bg-[#252451] shadow-lg relative z-50 culti-header">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          
          <a th:href="@{/home}" class="flex-shrink-0">
            <h1 class="text-white cursor-pointer header-logo">
              CULTI
            </h1>
          </a>

          <div class="hidden md:flex items-center space-x-1 relative">
            
            <div class="relative group" id="ticket-menu-container">
              <a th:href="@{/reservation}" class="px-4 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 flex items-center gap-1.5 cursor-pointer header-nav-link">
                티켓 예매
                <i data-lucide="chevron-down" class="w-4 h-4 transition-transform duration-200" id="ticket-chevron"></i>
              </a>

              <div id="ticket-dropdown" class="hidden absolute top-full left-0 mt-2 w-44 bg-white rounded-xl shadow-2xl overflow-hidden border border-gray-100">
                <button class="w-full px-4 py-3 text-left text-gray-700 hover:bg-[#503396] hover:text-white transition-all duration-150 header-dropdown-item">영화</button>
                <button class="w-full px-4 py-3 text-left text-gray-700 hover:bg-[#503396] hover:text-white transition-all duration-150 header-dropdown-item">공연</button>
                <button class="w-full px-4 py-3 text-left text-gray-700 hover:bg-[#503396] hover:text-white transition-all duration-150 header-dropdown-item">전시</button>
                <button class="w-full px-4 py-3 text-left text-gray-700 hover:bg-[#503396] hover:text-white transition-all duration-150 header-dropdown-item">팝업스토어</button>
              </div>
            </div>

            <a th:href="@{/calendar}" class="px-4 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 header-nav-link">일정 캘린더</a>
            <a th:href="@{/mate/mate}" class="px-4 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 header-nav-link">동행 찾기</a>
            <a th:href="@{/support/notice}" class="px-4 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 header-nav-link">고객센터</a>
<!--             <button class="px-4 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 header-nav-link">고객센터</button> -->
          </div>

          <div class="flex items-center space-x-4">
          
            <button class="p-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all" aria-label="검색">
              <i data-lucide="search" class="w-5 h-5"></i>
            </button>

            <button class="hidden sm:flex items-center gap-2 px-4 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all header-nav-link">
              <i data-lucide="user" class="w-5 h-5"></i>
              <a th:href="@{/auth/myPage}">마이페이지</a>
<!--               <span>마이페이지</span> -->
            </button>
			
			<a sec:authorize="isAnonymous()" th:href="@{/auth/login}" class="px-5 py-2 bg-[#503396] text-white rounded-lg hover:bg-opacity-90 shadow-lg shadow-purple-900/25 transition-all duration-200 header-login-btn">
			로그인
			</a>
			<a sec:authorize="isAuthenticated()" th:href="@{/auth/logout}" class="px-5 py-2 bg-[#503396] text-white rounded-lg hover:bg-opacity-90 shadow-lg shadow-purple-900/25 transition-all duration-200 header-login-btn">
			로그아웃
			</a>

<!--             <button class="px-5 py-2 bg-[#503396] text-white rounded-lg hover:bg-opacity-90 shadow-lg shadow-purple-900/25 transition-all duration-200 header-login-btn"> -->
<!--               로그인 -->
<!--             </button> -->
          </div>
        </div>
      </div>
    </nav>
</div>
</html>